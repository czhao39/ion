<div class="widget extra-widget birthdays-widget" id="birthdays">
    {% if "birthday_month" in request.GET %}
        <script>
        $(function() {
            $("body").addClass("show-extra-widgets")
        });
        </script>
    {% endif %}
    <style type="text/css">
    .birthdays-widget .widget-content {
        padding: 5px 15px;
    }

    .birthdays-widget .widget-content table {
        width: 100%;
    }

    .birthdays-widget .widget-title form {
        display: inline;
        float: right;
    }

    .birthdays-widget .birthday-field {
        background: transparent;
        border: 1px solid rgb(216,216,216);
        padding: 2px 4px;
        width: 14px;
        text-align: center;
    }

    .birthdays-widget input[name="birthday_month"] {
        margin-right: -3px;
        border-right: 0;
        padding-right: 5px;
        text-align: right;
    }

    .birthdays-widget .slash {
        color: black;
    }

    .birthdays-widget input[name="birthday_day"] {
        margin-left: -2px;
        border-left: 0;
        text-align: left;
    }

    .birthdays-widget input[type="submit"] {
        margin-top: 0;
    }

    </style>
    <div class="widget-title">
        <h2>
            Birthdays
        </h2>

        <div class="info">
            <form action="/#birthdays" method="get">
                <input class="birthday-field" name="birthday_month" value="{{ birthdays.today.date.month }}" /><span class="slash">/</span><input class="birthday-field" name="birthday_day" value="{{ birthdays.today.date.day }}" />
                <input type="submit" value="View Birthdays" class="small-button" />
            </form>
        </div>
    </div>
    <div class="widget-content">
        <table>
            <tr>
            {% with birthdays.today as day %}
                <th>
                    {% if not birthdays.custom %}Today:<br />{% endif %}
                    {{ day.date|date:"F j" }}
                </th>
                <td>
                {% for u in day.users %}
                    <a href="{% url 'user_profile' u.id %}">{{ u.full_name }}</a> ({{ u.grade.name|title }})
                    {% if u.age %}turns {{ u.age|add:day.inc }}!{% endif %}
                    {% if not forloop.last %}<br />{% endif %}
                {% empty %}
                    No birthdays!
                {% endfor %}
                </td>

              {% endwith %}
            </tr>
            {% if not birthdays.custom %}
                <tr>
                {% with birthdays.tomorrow as day %}
                    <th style="padding-top: 10px">
                        Tomorrow:<br />
                        {{ day.date|date:"F j" }}
                    </th>
                    <td>
                    {% for u in day.users %}
                        <a href="{% url 'user_profile' u.id %}">{{ u.full_name }}</a> ({{ u.grade.name|title }})
                        {% if u.age %}turns {{ u.age|add:day.inc }}!{% endif %}
                        {% if not forloop.last %}<br />{% endif %}
                    {% empty %}
                        No birthdays!
                    {% endfor %}
                    </td>

                  {% endwith %}
                </tr>
            {% endif %}
        </table>
    </div>
</div>