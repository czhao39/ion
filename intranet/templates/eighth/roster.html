{% extends "page_with_nav.html" %}
{% load phone_numbers %}
{% load staticfiles %}

{% block title %}{{ block.super }} - Roster - {{ scheduled_activity.true_title }}{% endblock %}


{% block css %}
    {{ block.super }}
    <link rel="stylesheet" type="text/css" href="{% static 'css/eighth.common.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/eighth.admin.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/profile.css' %}" />
    <link rel="stylesheet" type="text/css" href="{% static 'css/eighth.profile.css' %}" />
    <style type="text/css">
    dl dt, dl dd {
        font-size: 15px;
    }

    dl dt {
        float: left;
        padding-right: 5px;
    }
    </style>
{% endblock %}

{% block js %}
    {{ block.super }}
    {% if profile_user.is_student %}
        <script type="text/javascript">
            $(document).ready(function() {
                
            });
        </script>
    {% endif %}
{% endblock %}

{% block main %}
<div class="primary-content">

    {% if request.user.is_eighth_admin %}
        <div class="eighth-header">
            {% include "eighth/admin/start_date.html" %}
        </div>
    {% endif %}

    <h2>Roster for {{ scheduled_activity }}:</h2>
    <dl>
        <dt>Rooms:</dt>
        <dd>{% for room in scheduled_activity.get_true_rooms %}
                {{ room.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}</dd>
        <dt>Sponsors:</dt>
        <dd>{% for sponsor in scheduled_activity.get_true_sponsors %}
                {{ sponsor.name }}{% if not forloop.last %}, {% endif %}
            {% endfor %}</dd>
        {% if scheduled_activity.comments %}
        <dt>Comments:</dt>
        <dd style="width: 400px">{{ scheduled_activity.comments }}</dd>
        {% endif %}

        {% if scheduled_activity.activity.description %}
        <dt>Description:</dt>
        <dd style="width: 400px">{{ scheduled_activity.activity.description }}</dd>
        {% endif %}
        <dt>Signups:</dt>
        <dd>{{ scheduled_activity.members.all|length }} / {{ scheduled_activity.get_true_capacity }}</dd>
    </dl>

    <table class="members-table fancy-table">
        <thead>
            <tr>
                <th>Name</th>
                <th>Grade</th>
            </tr>
        </thead>
        <tbody>
        {% for user in scheduled_activity.members.all %}
            <tr class="item-row">
                <td>{{ user.last_name }}, {{ user.first_name }}</td>
                <td>{{ user.grade.number }}</td>
            </tr>
        {% empty %}
            <tr class="item-row">
                <td colspan="2">There are no signups.</td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}
